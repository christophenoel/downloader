<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="d6064b52-ba9c-4d2d-a6fe-534a02ef7c6b" activeEnvironment="Default" name="PVMEP-Downloader" resourceRoot="" soapui-version="5.3.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="1c0b8570-a746-43d5-b23b-10400a76e974" wadlVersion="http://wadl.dev.java.net/2009/02" name="application" type="rest" basePath="/downloader/webapi/" definitionUrl="http://pvmep-dm.spacebel.be:8080/downloader/webapi/application.wadl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://pvmep-dm.spacebel.be:8080/downloader/webapi/application.wadl"><con:part><con:url>http://pvmep-dm.spacebel.be:8080/downloader/webapi/application.wadl</con:url><con:content><![CDATA[<application xmlns="http://wadl.dev.java.net/2009/02">
  <doc jersey:generatedBy="Jersey: 2.10.4 2014-08-08 15:09:00" xmlns:jersey="http://jersey.java.net/"/>
  <doc jersey:hint="This is simplified WADL with user and core resources only. To get full WADL with extended resources use the query parameter detail. Link: http://pvmep-dm.spacebel.be:8080/downloader/webapi/application.wadl?detail=true" xmlns:jersey="http://jersey.java.net/"/>
  <grammars>
    <include href="application.wadl/xsd0.xsd">
      <doc title="Generated" xml:lang="en"/>
    </include>
  </grammars>
  <resources base="http://pvmep-dm.spacebel.be:8080/downloader/webapi/">
    <resource path="data">
      <resource path="/download">
        <method id="postDownload" name="POST">
          <request>
            <representation element="ns2:DownloadRequest" mediaType="application/xml" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
            <representation element="ns2:DownloadRequest" mediaType="application/json" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
          </request>
          <response>
            <representation element="ns2:DownloadResponse" mediaType="application/xml" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
            <representation element="ns2:DownloadResponse" mediaType="application/json" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
          </response>
        </method>
      </resource>
      <resource path="/content">
        <method id="getContent" name="POST">
          <request>
            <representation element="ns2:GetContentRequest" mediaType="application/xml" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
            <representation element="ns2:GetContentRequest" mediaType="application/json" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
          </request>
          <response>
            <representation mediaType="application/xml"/>
            <representation mediaType="application/json"/>
          </response>
        </method>
      </resource>
      <resource path="/download/{identifier}">
        <param name="identifier" style="template" type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema"/>
        <method id="getStatus" name="GET">
          <response>
            <representation element="ns2:DownloadStatus" mediaType="application/xml" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
            <representation element="ns2:DownloadStatus" mediaType="application/json" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
          </response>
        </method>
        <method id="deleteDownload" name="DELETE">
          <response>
            <representation element="ns2:DownloadStatus" mediaType="application/xml" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
            <representation element="ns2:DownloadStatus" mediaType="application/json" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
          </response>
        </method>
      </resource>
    </resource>
    <resource path="configuration">
      <method id="postGetConfiguration" name="POST">
        <request>
          <representation element="ns2:GetConfigurationRequest" mediaType="application/xml" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
          <representation element="ns2:GetConfigurationRequest" mediaType="application/json" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
        </request>
        <response>
          <representation element="ns2:GetConfigurationResponse" mediaType="application/xml" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
          <representation element="ns2:GetConfigurationResponse" mediaType="application/json" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
        </response>
      </method>
    </resource>
    <resource path="urllist">
      <resource path="/expandurl">
        <method id="postExpandUrl" name="POST">
          <request>
            <representation element="ns2:ExpandURLRequest" mediaType="application/xml" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
            <representation element="ns2:ExpandURLRequest" mediaType="application/json" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
          </request>
          <response>
            <representation element="ns2:ExpandURLResponse" mediaType="application/xml" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
            <representation element="ns2:ExpandURLResponse" mediaType="application/json" xmlns:ns2="http://proba-v-mep.esa.int/schemas/downloader"/>
          </response>
        </method>
      </resource>
    </resource>
  </resources>
</application>]]></con:content><con:type>http://wadl.dev.java.net/2009/02</con:type></con:part><con:part><con:url>http://pvmep-dm.spacebel.be:8080/downloader/webapi/application.wadl/xsd0.xsd</con:url><con:content><![CDATA[<xs:schema elementFormDefault="qualified" version="1.0" targetNamespace="http://proba-v-mep.esa.int/schemas/downloader" xmlns:tns="http://proba-v-mep.esa.int/schemas/downloader" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="DownloadRequest" type="tns:AsyncDownloadRequestType"/>
  <xs:element name="DownloadResponse" type="tns:AsyncDownloadResponseType"/>
  <xs:element name="DownloadStatus" type="tns:AsyncDownloadStatusType"/>
  <xs:element name="ExpandURLRequest" type="tns:ExpandURLRequestType"/>
  <xs:element name="ExpandURLResponse" type="tns:ExpandURLResponseType"/>
  <xs:element name="GetConfigurationRequest" type="tns:GetConfigurationRequestType"/>
  <xs:element name="GetConfigurationResponse" type="tns:GetConfigurationResponseType"/>
  <xs:element name="GetContentRequest" type="tns:RequestType"/>
  <xs:complexType name="GetConfigurationRequestType">
    <xs:sequence>
      <xs:element name="servers" type="tns:ServerSelectionType"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ServerSelectionType">
    <xs:sequence>
      <xs:element name="protocol" type="xs:string" minOccurs="0"/>
      <xs:element name="name" type="xs:string" minOccurs="0" maxOccurs="unbounded"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="GetConfigurationResponseType">
    <xs:sequence>
      <xs:element name="servers" type="tns:ServersConfigurationType"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ServersConfigurationType">
    <xs:sequence>
      <xs:element name="server" type="tns:ServerConfigurationType" maxOccurs="unbounded"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ServerConfigurationType">
    <xs:sequence>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="protocol" type="xs:string"/>
      <xs:element name="user" type="xs:string" minOccurs="0"/>
      <xs:element name="maxConnections" type="xs:int" minOccurs="0"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ExpandURLRequestType">
    <xs:sequence>
      <xs:element name="url" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ExpandURLResponseType">
    <xs:sequence>
      <xs:element name="url" type="xs:string" maxOccurs="unbounded"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AsyncDownloadResponseType">
    <xs:sequence>
      <xs:element name="identifier" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AsyncDownloadStatusType">
    <xs:sequence>
      <xs:element name="identifier" type="xs:string"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="productStatus" type="tns:productStatusType" maxOccurs="unbounded"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="productStatusType">
    <xs:sequence>
      <xs:element name="productURL" type="xs:string"/>
      <xs:element name="downloadDirectory" type="xs:string"/>
      <xs:element name="completedDownloadPath" type="xs:string"/>
      <xs:element name="totalFileSize" type="xs:long"/>
      <xs:element name="productName" type="xs:string"/>
      <xs:element name="productProgress" type="tns:progressType"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="progressType">
    <xs:sequence>
      <xs:element name="downloadedSize" type="xs:long"/>
      <xs:element name="message" type="xs:string"/>
      <xs:element name="progressPercentage" type="xs:int"/>
      <xs:element name="status" type="xs:string"/>
      <xs:element name="statusCode" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AsyncDownloadRequestType">
    <xs:sequence>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="product" type="tns:productType" maxOccurs="unbounded"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="productType">
    <xs:sequence>
      <xs:element name="URL" type="xs:string"/>
      <xs:element name="downloadDirectory" type="xs:string"/>
      <xs:element name="size" type="xs:long" minOccurs="0"/>
      <xs:element name="verification" minOccurs="0">
        <xs:complexType>
          <xs:sequence>
            <xs:element name="hash" maxOccurs="unbounded">
              <xs:complexType>
                <xs:simpleContent>
                  <xs:extension base="xs:string">
                    <xs:attribute name="type" type="xs:string"/>
                  </xs:extension>
                </xs:simpleContent>
              </xs:complexType>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="RequestType">
    <xs:sequence>
      <xs:element name="filePath" type="xs:string"/>
      <xs:element name="hashValue" type="xs:string" minOccurs="0"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="statusType">
    <xs:restriction base="xs:string">
      <xs:enumeration value="NOT_STARTED"/>
      <xs:enumeration value="IDLE"/>
      <xs:enumeration value="RUNNING"/>
      <xs:enumeration value="CANCELLED"/>
      <xs:enumeration value="IN_ERROR"/>
      <xs:enumeration value="COMPLETED"/>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint></con:endpoints><con:resource name="data" path="data" id="5889e8f2-52e7-4cfb-bc2a-d4c843ec8f2c"><con:settings/><con:parameters/><con:resource name="/content" path="/content" id="a885d615-bb40-4f79-8c99-7355c900f7eb"><con:settings/><con:parameters/><con:method name="POST - getContent" id="c71ef21f-f53a-45c9-8181-9349b9d18652" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:GetContentRequest</con:element><con:description xsi:nil="true"/></con:representation><con:representation type="REQUEST" id=""><con:mediaType>application/json</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:GetContentRequest</con:element><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/json</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" id="6cb167e9-c908-4cdd-855b-8de22caa9968" mediaType="application/xml" postQueryString="false"><con:settings/><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="/download" path="/download" id="babdae13-f841-4ce9-a91e-a098043fc69e"><con:settings/><con:parameters/><con:method name="POST - postDownload" id="74f40266-6861-4e58-befb-073fd1bdcab4" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:DownloadRequest</con:element><con:description xsi:nil="true"/></con:representation><con:representation type="REQUEST" id=""><con:mediaType>application/json</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:DownloadRequest</con:element><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:DownloadResponse</con:element><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/json</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:DownloadResponse</con:element><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" id="2798e906-82ee-40c3-8cff-21443e95c31d" mediaType="application/xml"><con:settings/><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:parameters/></con:request></con:method></con:resource><con:resource name="/download/{identifier}" path="/download/{identifier}" id="dfdd31c8-a2ae-46bc-b336-ba660c78e5af"><con:settings/><con:parameters><con:parameter><con:name>identifier</con:name><con:value xsi:nil="true"/><con:style>TEMPLATE</con:style><con:default xsi:nil="true"/></con:parameter></con:parameters><con:method name="GET - getStatus" id="40d45212-abef-4e13-be6b-3365c1da1fc9" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:DownloadStatus</con:element><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/json</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:DownloadStatus</con:element><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" id="4ff3efdb-3691-47ca-9a7f-c91e3d6f915b" mediaType="application/json"><con:settings/><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:parameters/></con:request></con:method><con:method name="DELETE - deleteDownload" id="7e920ef4-61cb-476a-9b32-e706f345eab7" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:DownloadStatus</con:element><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/json</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:DownloadStatus</con:element><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" id="751bfe8d-ba29-4dee-9647-7d722818711b" mediaType="application/json"><con:settings/><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:parameters/></con:request></con:method></con:resource></con:resource><con:resource name="configuration" path="configuration" id="3936cd5f-5727-481b-83bc-4c07974b36aa"><con:settings/><con:parameters/><con:method name="POST - postGetConfiguration" id="22f8f0c2-6ab7-42ad-abb7-a17592d1925f" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:GetConfigurationRequest</con:element><con:description xsi:nil="true"/></con:representation><con:representation type="REQUEST" id=""><con:mediaType>application/json</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:GetConfigurationRequest</con:element><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:GetConfigurationResponse</con:element><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/json</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:GetConfigurationResponse</con:element><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" id="237c3fb1-51b0-4094-8dc7-bf528d0fec06" mediaType="application/xml"><con:settings/><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:parameters/></con:request></con:method></con:resource><con:resource name="urllist" path="urllist" id="ad89b28e-bae7-4f30-a278-c4f89ffc8ca8"><con:settings/><con:parameters/><con:resource name="/expandurl" path="/expandurl" id="7465f4c6-a836-46ed-8633-44a20e48047f"><con:settings/><con:parameters/><con:method name="POST - postExpandUrl" id="a77b1a09-f46d-4826-9ee2-5a15af016be8" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:ExpandURLRequest</con:element><con:description xsi:nil="true"/></con:representation><con:representation type="REQUEST" id=""><con:mediaType>application/json</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:ExpandURLRequest</con:element><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/xml</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:ExpandURLResponse</con:element><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/json</con:mediaType><con:params/><con:element xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">dow:ExpandURLResponse</con:element><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" id="61bfbaaf-839a-4a7a-aa7f-9c83e4d4ab2c" mediaType="application/xml"><con:settings/><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:parameters/></con:request></con:method></con:resource></con:resource></con:interface><con:testSuite name="Functions Test" id="b5bcace1-4f9e-4404-b356-44a895f690d9"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="fbd53e6a-8593-4387-8d74-c3e07c612912" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Preparation" searchProperties="true"><con:settings/><con:testStep type="manualTestStep" name="Clean the data directory (delete files)" id="77116ab9-2fe8-44d5-bc61-6f747016a8e2"><con:settings/><con:config xsi:type="con:ManualTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:testStep><con:properties/></con:testCase><con:testCase id="778db1cf-0f35-4f86-8ea8-57e20f12f529" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="HTTP Download" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Step 1: Download single HTTP Image File (F1)" id="b906c742-2953-4d7b-9f91-c2c8c3017315"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download" methodName="POST - postDownload" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 1: Download single HTTP Image File (F1)" id="2798e906-82ee-40c3-8cff-21443e95c31d" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:DownloadRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
	<dow:name>Download single HTTP Image File (F1)</dow:name>
	<dow:product>
		<dow:URL>${#TestSuite#HTTP_SERVER}/single/test1.png</dow:URL>
		<dow:downloadDirectory>http-download-step1</dow:downloadDirectory>
	</dow:product>
</dow:DownloadRequest>]]></con:request><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/download</con:originalUri><con:assertion type="Schema Compliance" id="0c044bbe-fb90-46c1-80de-df0c63fb140d" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer F1 identifier" id="d5589d13-3b03-4bd4-901f-e7b05aec7593"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>identifier</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Step 1: Download single HTTP Image File (F1)</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>Step 2: Get Download status</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="delay" name="Wait 2 seconds" id="217ec7cd-a067-4356-a589-8caf49da24aa"><con:settings/><con:config><delay>2000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Step 2: Get Download status" id="9af915b8-fe86-4245-856a-394a8500771f"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="GET - getStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 2: Get Download status" id="4ff3efdb-3691-47ca-9a7f-c91e3d6f915b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/download/3b7e5837-09c4-4871-86ac-18a5eeda073c</con:originalUri><con:assertion type="Schema Compliance" id="f3390ce2-f843-4bce-8649-4c5608bdfd4c" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="6267f1da-94d1-45f7-9a4d-459ca27b4685" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="Check if Download of F1 is completed" id="3b1d01e5-9f9a-4f42-93ac-31028e2a2e6e"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Condition 1</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns1='http://proba-v-mep.esa.int/schemas/downloader';
//ns1:DownloadStatus/ns1:productStatus/ns1:productProgress/ns1:status != 'COMPLETED'</con:expression><con:targetStep>Wait 2 seconds</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="restrequest" name="Step 2b: Verify content of the downloaded file (F1)" id="ff4bf70f-3e68-4bf2-adf2-f63d98d2dc4e"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/content" methodName="POST - getContent" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 2b: Verify content of the downloaded file (F1)" id="6cb167e9-c908-4cdd-855b-8de22caa9968" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:GetContentRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
	<dow:filePath>${#TestSuite#DOWNLOAD_DIR}/http-download-step1/test1.png</dow:filePath>
	<dow:hashValue>e32ccc74b22e35a4778c46e49c6e3e7e</dow:hashValue>	
</dow:GetContentRequest>]]></con:request><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/content</con:originalUri><con:assertion type="Simple Contains" id="508e2e24-80b5-48d4-8246-6e7839fed950" name="Contains"><con:configuration><token>61119774</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Step 3: Download single HTTPS Image File (F16)" id="abfbf102-2f38-4b8b-a30e-31004919d40f"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download" methodName="POST - postDownload" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 3: Download single HTTPS Image File (F16)" id="2798e906-82ee-40c3-8cff-21443e95c31d" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:DownloadRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
	<dow:name>Download single HTTPS Image File (F16)</dow:name>
	<dow:product>
		<dow:URL>${#TestSuite#HTTPS_SERVER}/https/test16.png</dow:URL>
		<dow:downloadDirectory>http-download-step3</dow:downloadDirectory>
	</dow:product>
</dow:DownloadRequest>]]></con:request><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/download</con:originalUri><con:assertion type="Schema Compliance" id="0c044bbe-fb90-46c1-80de-df0c63fb140d" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer F16 identifier" id="c456fe8d-3d13-46f6-8808-82d007333b51"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>identifier</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Step 3: Download single HTTPS Image File (F16)</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>Step 4: Get Download status</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="delay" name="Delay 2 seconds" id="777abc3c-5f55-4f20-b1a4-f6731de05ee5"><con:settings/><con:config><delay>2000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Step 4: Get Download status" id="5ac8f264-ff93-405f-b3ff-8cd68e87a574"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="GET - getStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 4: Get Download status" id="4ff3efdb-3691-47ca-9a7f-c91e3d6f915b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/download/3b7e5837-09c4-4871-86ac-18a5eeda073c</con:originalUri><con:assertion type="Schema Compliance" id="f3390ce2-f843-4bce-8649-4c5608bdfd4c" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="a66e247b-acf2-4273-9d18-7ca1bfa5cff2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="Check if Download of F16 is completed" id="f0b4153c-6fa3-476a-8ed4-b755ba5bc081"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Condition 1</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns1='http://proba-v-mep.esa.int/schemas/downloader';
//ns1:DownloadStatus/ns1:productStatus/ns1:productProgress/ns1:status != 'COMPLETED'</con:expression><con:targetStep>Delay 2 seconds</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="restrequest" name="Step 4b: Verify content of the downloaded file (F16)" id="a0bd5e3f-64b8-43ce-9120-ca5a37c5b02b"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/content" methodName="POST - getContent" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 4b: Verify content of the downloaded file (F16)" id="6cb167e9-c908-4cdd-855b-8de22caa9968" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:GetContentRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
	<dow:filePath>${#TestSuite#DOWNLOAD_DIR}/http-download-step3/test16.png</dow:filePath>
	<dow:hashValue>b0e30c6732b8b179d9a2778824c2846e</dow:hashValue>	
</dow:GetContentRequest>]]></con:request><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/content</con:originalUri><con:assertion type="Simple Contains" id="508e2e24-80b5-48d4-8246-6e7839fed950" name="Contains"><con:configuration><token>61119792</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Step 5: Download multiple HTTP Text Files (F2, F3)" id="37c8823b-de59-44e7-ace2-24e5b4393186"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download" methodName="POST - postDownload" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 5: Download multiple HTTP Text Files (F2, F3)" id="2798e906-82ee-40c3-8cff-21443e95c31d" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:DownloadRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
	<dow:name>Download multiple HTTP Text Files (F2, F3)</dow:name>
	<dow:product>
		<dow:URL>${#TestSuite#HTTP_SERVER}/multiple/test2.txt</dow:URL>
		<dow:downloadDirectory>http-download-step5</dow:downloadDirectory>
	</dow:product>
	<dow:product>
		<dow:URL>${#TestSuite#HTTP_SERVER}/multiple/test3.txt</dow:URL>
		<dow:downloadDirectory>http-download-step5</dow:downloadDirectory>
	</dow:product>
</dow:DownloadRequest>]]></con:request><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/download</con:originalUri><con:assertion type="Schema Compliance" id="0c044bbe-fb90-46c1-80de-df0c63fb140d" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer F2 &amp; F3 identifier" id="4df4a447-fa9e-499d-80c3-e702b7be74c3"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>identifier</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Step 5: Download multiple HTTP Text Files (F2, F3)</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>Step 6: Get Download status</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="delay" name="Delay 3 seconds" id="8b433b4d-6bef-4699-9abf-742700ff1e4a"><con:settings/><con:config><delay>3000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Step 6: Get Download status" id="41efdb70-99c2-4caa-a750-0acccbf1bb45"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="GET - getStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 6: Get Download status" id="4ff3efdb-3691-47ca-9a7f-c91e3d6f915b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/download/3b7e5837-09c4-4871-86ac-18a5eeda073c</con:originalUri><con:assertion type="Schema Compliance" id="f3390ce2-f843-4bce-8649-4c5608bdfd4c" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="350f438b-79ad-4f66-803e-ea618d8c223b" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="Check if Downloads of F2 &amp; F3 are completed" id="281dec40-bf67-4c95-bba7-c4e3648d8fd9"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Condition 1</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns1='http://proba-v-mep.esa.int/schemas/downloader';
//ns1:DownloadStatus/ns1:productStatus/ns1:productProgress/ns1:status != 'COMPLETED'</con:expression><con:targetStep>Delay 3 seconds</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="restrequest" name="Step 6b: Verify content of the downloaded file (F2)" id="f486c63b-3c08-442c-b686-15612a0a6a5c"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/content" methodName="POST - getContent" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 6b: Verify content of the downloaded file (F2)" id="6cb167e9-c908-4cdd-855b-8de22caa9968" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:GetContentRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
	<dow:filePath>${#TestSuite#DOWNLOAD_DIR}/http-download-step5/test2.txt</dow:filePath>
	<dow:hashValue>675c0fc077d2d84c1ea82900e4f7b784</dow:hashValue>	
</dow:GetContentRequest>]]></con:request><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/content</con:originalUri><con:assertion type="Simple Contains" id="508e2e24-80b5-48d4-8246-6e7839fed950" name="Contains"><con:configuration><token>Validation test2.txt 5555</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Step 6b: Verify content of the downloaded file (F3)" id="279dd54e-d063-4080-9a5e-6b4b53514cdf"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/content" methodName="POST - getContent" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 6b: Verify content of the downloaded file (F3)" id="6cb167e9-c908-4cdd-855b-8de22caa9968" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:GetContentRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
	<dow:filePath>${#TestSuite#DOWNLOAD_DIR}/http-download-step5/test3.txt</dow:filePath>	
	<dow:hashValue>627ceac056b5a52575be280ad5cd85d1</dow:hashValue>
</dow:GetContentRequest>]]></con:request><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/content</con:originalUri><con:assertion type="Simple Contains" id="508e2e24-80b5-48d4-8246-6e7839fed950" name="Contains"><con:configuration><token>Validation test3.txt 5555</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="6a9004e1-9def-4399-930b-903d9f054f34" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FTP Download" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="restrequest" name="Step 1: Download single FTP Text File F4" id="d2065cc0-8dd0-4a38-b4ee-03fd039a2e43"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download" methodName="POST - postDownload" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 1: Download single FTP Text File F4" mediaType="application/xml" postQueryString="false" id="862f3b8a-c539-4619-8d27-0997e7e5b102"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:DownloadRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
   <dow:name>Download single FTP Text File (F4)</dow:name>   
   <dow:product>   
      <dow:URL>${#TestSuite#FTP_SERVER}/single/test4.txt</dow:URL>
      <dow:downloadDirectory>ftp-download-step1</dow:downloadDirectory>      
   </dow:product>   
</dow:DownloadRequest>]]></con:request><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download</con:originalUri><con:assertion type="Schema Compliance" id="f57b0a4e-edae-4d0b-8ff2-b60f56527484" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer downloadId for F4" id="758320c2-f280-4ea4-808c-cfcade56d61f"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>download Id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Step 1: Download single FTP Text File F4</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier
</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>Step 2: Check F4 download status</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="delay" name="Wait for download progress" id="9cb73853-4907-45d1-9b46-8f58d3769474"><con:settings/><con:config><delay>2000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Step 2: Check F4 download status" id="72f25f3b-fce6-4d1c-9998-2362582ff5ec"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="GET - getStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 2: Check F4 download status" mediaType="application/json" id="15ebc7b2-92b7-4156-9a89-5e6470e5d2cb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download/015d8d3b-e63e-4706-8e25-77dd0e5ed365</con:originalUri><con:assertion type="Schema Compliance" id="cb6f6f57-1a77-4730-8e7a-cc7ea8de0c7d" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="4285f4ac-1c2d-4df3-a3aa-e7e3e776fc14" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="Check if Download of F4 is completed" id="fc12d232-eddf-42f0-be45-345a5163d9d6"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Condition 1</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns1='http://proba-v-mep.esa.int/schemas/downloader';
//ns1:DownloadStatus/ns1:productStatus/ns1:productProgress/ns1:status != 'COMPLETED'</con:expression><con:targetStep>Wait for download progress</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="transfer" name="Transfer F4 location" id="8fc62822-7647-4caf-9609-50a6801332d4"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>File path</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Step 2: Check F4 download status</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadStatus/ns:productStatus/ns:completedDownloadPath</con:sourcePath><con:targetType>Request</con:targetType><con:targetStep>Step 2b: Verify F4 content</con:targetStep><con:targetPath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:GetContentRequest/ns:filePath</con:targetPath><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Step 2b: Verify F4 content" id="520140f5-c30d-486d-b9b4-bdc63be74bff"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/content" methodName="POST - getContent" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 2b: Verify F4 content" id="6cb167e9-c908-4cdd-855b-8de22caa9968" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:GetContentRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
	<dow:filePath>/apps/downloaded-data/ftp-download-step1/proba-V-MEP-data/single/test4.txt</dow:filePath>
	<dow:hashValue>0e3a87dbbdf009925c990870b02403e5</dow:hashValue>	
</dow:GetContentRequest>]]></con:request><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/content</con:originalUri><con:assertion type="Simple Contains" id="508e2e24-80b5-48d4-8246-6e7839fed950" name="Contains"><con:configuration><token>Validation test4.txt 5555</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Step 3: Download recursive FTP Directory F6-F8" id="74b02304-59a1-47e2-b287-b8a99f95db64"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download" methodName="POST - postDownload" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 3: Download recursive FTP Directory F6-F8" mediaType="application/xml" postQueryString="false" id="862f3b8a-c539-4619-8d27-0997e7e5b102"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:DownloadRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
   <dow:name>Download recursive FTP directory (F6 - F8)</dow:name>   
   <dow:product>   
      <dow:URL>${#TestSuite#FTP_SERVER}/multiple</dow:URL>
      <dow:downloadDirectory>ftp-download-step3</dow:downloadDirectory>      
   </dow:product>   
</dow:DownloadRequest>]]></con:request><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download</con:originalUri><con:assertion type="Schema Compliance" id="f57b0a4e-edae-4d0b-8ff2-b60f56527484" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Wait for download 2 progress" id="7c48bc7e-b87b-4379-af12-f0c3934f09dd"><con:settings/><con:config><delay>2000</delay></con:config></con:testStep><con:testStep type="transfer" name="Transfer downloadId for F6-f8" id="b52b4a86-257a-40fc-be75-8c8020b47c37"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>download Id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Step 3: Download recursive FTP Directory F6-F8</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier
</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>Step 4: Check F6-F8 download status</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Step 4: Check F6-F8 download status" id="f36f6484-9689-44cd-8dcc-2853ad6ff2fd"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="GET - getStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 4: Check F6-F8 download status" mediaType="application/json" id="15ebc7b2-92b7-4156-9a89-5e6470e5d2cb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download/015d8d3b-e63e-4706-8e25-77dd0e5ed365</con:originalUri><con:assertion type="Schema Compliance" id="cdc6ae4d-a2e9-4271-ba76-50c6c802071d" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="XPath Match" id="e8e0523b-9d01-4410-833f-d1b0bc984f0f" name="XPath Match"><con:configuration><path>declare namespace ns1='http://proba-v-mep.esa.int/schemas/downloader';
//ns1:DownloadStatus/ns1:productStatus/ns1:productProgress/ns1:status</path><content>COMPLETED</content><allowWildcards>true</allowWildcards><ignoreNamspaceDifferences>true</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="8b3c1a2a-ed3c-4c9a-b394-d426135c8628" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="Check if Download of F6-F8 are completed" id="1bc33ac7-d531-4720-9dda-9c706372c51a"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Condition 1</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns1='http://proba-v-mep.esa.int/schemas/downloader';
//ns1:DownloadStatus/ns1:productStatus/ns1:productProgress/ns1:status != 'COMPLETED'</con:expression><con:targetStep>Wait for download 2 progress</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="restrequest" name="Step 4b: Verify F6 content" id="17fa731b-ffa3-484b-85d8-0a82c1d62496"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/content" methodName="POST - getContent" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 4b: Verify F6 content" id="6cb167e9-c908-4cdd-855b-8de22caa9968" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:GetContentRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
	<dow:filePath>${#TestSuite#DOWNLOAD_DIR}/ftp-download-step3//proba-V-MEP-data/multiple/sub/test7.txt</dow:filePath>
	<dow:hashValue>92e3641b9b0cb90eb62ed0cdad17b03e</dow:hashValue>	
</dow:GetContentRequest>]]></con:request><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/content</con:originalUri><con:assertion type="Simple Contains" id="508e2e24-80b5-48d4-8246-6e7839fed950" name="Contains"><con:configuration><token>Test case F7</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Step 4b: Verify F7 content" id="84599ca5-9815-4a6c-8a19-fce6b1dccfda"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/content" methodName="POST - getContent" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 4b: Verify F7 content" id="6cb167e9-c908-4cdd-855b-8de22caa9968" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:GetContentRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
	<dow:filePath>${#TestSuite#DOWNLOAD_DIR}/ftp-download-step3//proba-V-MEP-data/multiple/sub/test7.txt</dow:filePath>
	<dow:hashValue>92e3641b9b0cb90eb62ed0cdad17b03e</dow:hashValue>	
</dow:GetContentRequest>]]></con:request><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/content</con:originalUri><con:assertion type="Simple Contains" id="508e2e24-80b5-48d4-8246-6e7839fed950" name="Contains"><con:configuration><token>Test case F7</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Step 4b: Verify F8 content" id="56d9e91a-c3c3-4dea-8473-4202796aaa91"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/content" methodName="POST - getContent" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 4b: Verify F8 content" id="6cb167e9-c908-4cdd-855b-8de22caa9968" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:GetContentRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
	<dow:filePath>${#TestSuite#DOWNLOAD_DIR}/ftp-download-step3//proba-V-MEP-data/multiple/sub/deepest/test8.txt</dow:filePath>
	<dow:hashValue>e07c6b7d345b8e882021e7c4ca877be6</dow:hashValue>	
</dow:GetContentRequest>]]></con:request><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/content</con:originalUri><con:assertion type="Simple Contains" id="508e2e24-80b5-48d4-8246-6e7839fed950" name="Contains"><con:configuration><token>Validation test8.txt 5555</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="3c79a94a-42cb-46fb-a5fe-44100ed2e77e" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="USGS Download" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="restrequest" name="Download USGS" id="9805a694-5233-4d03-a08b-7af3902b7ff6"><con:settings/><con:config service="application" methodName="POST - postDownload" resourcePath="/downloader/webapi/data/download" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Download USGS" id="f7604c84-182b-4a9b-b7cd-f8f36eafd630" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:DownloadRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">\r
 <dow:name>Test download</dow:name>
   <dow:product>\r
      <dow:URL>https://earthexplorer.usgs.gov/download/options/12864/LC81990252013120LGN02?node=EC</dow:URL>\r
      <dow:downloadDirectory>usgs</dow:downloadDirectory>\r
   </dow:product>\r
</dow:DownloadRequest>]]></con:request><con:originalUri>http://localhost/downloader/webapi/data/download</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer downloadId for Landsat file" id="f6ddbb5e-f616-42ba-9ffa-447b212d564c"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>download Id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Download USGS</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier
</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>Check Landsat download status is complete</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="delay" name="Wait 5 seconds" id="79b2f355-0627-42e0-9c27-71e03485e06d"><con:settings/><con:config><delay>5000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Check Landsat download status is complete" id="80e5ce19-58b1-440e-99ae-6dd02edb39dc"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="GET - getStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check Landsat download status is complete" mediaType="application/json" id="15ebc7b2-92b7-4156-9a89-5e6470e5d2cb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download/015d8d3b-e63e-4706-8e25-77dd0e5ed365</con:originalUri><con:assertion type="Schema Compliance" id="cdc6ae4d-a2e9-4271-ba76-50c6c802071d" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="c9ea7467-9757-4f52-9dc5-5e5a772ba435" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="Check status again if not completed" id="7cfb49c4-73d0-4f56-aff4-2a7c166a181a"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Status not completed</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns1='http://proba-v-mep.esa.int/schemas/downloader';
//ns1:DownloadStatus/ns1:productStatus/ns1:productProgress/ns1:status != 'COMPLETED'</con:expression><con:targetStep>Wait 5 seconds</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="restrequest" name="Copy of Download USGS" id="5dfb2745-cd84-4342-8487-39ae7ef0625c"><con:settings/><con:config service="application" methodName="POST - postDownload" resourcePath="/downloader/webapi/data/download" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Copy of Download USGS" id="f7604c84-182b-4a9b-b7cd-f8f36eafd630" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:DownloadRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">\r
 <dow:name>Test download</dow:name>
   <dow:product>\r
      <dow:URL>http://earthexplorer.usgs.gov/order/process?node=EC&amp;dataset_name=LANDSAT_8&amp;ordered=LC81560212017038LGN00</dow:URL>\r
      <dow:downloadDirectory>usgs</dow:downloadDirectory>\r
   </dow:product>\r
</dow:DownloadRequest>]]></con:request><con:originalUri>http://localhost/downloader/webapi/data/download</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Download Option" searchProperties="true" id="497a171d-da54-4e5f-a94c-0f6a3ee71649"><con:settings/><con:testStep type="restrequest" name="Download single HTTP Image File (F1)" id="69846df4-8d8a-4f2b-9108-1736e3a61b29"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download" methodName="POST - postDownload" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Download single HTTP Image File (F1)" mediaType="application/xml" postQueryString="false" id="75ef8fe8-3328-4165-8249-fd88687d77e4"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:DownloadRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">\r
   <dow:name>Download Options Test</dow:name>\r   
   <dow:product>\r
      <dow:URL>${#TestSuite#HTTP_SERVER}/single/test1.png</dow:URL>\r
      <dow:downloadDirectory>download-options</dow:downloadDirectory>\r
      <dow:size>61119774</dow:size>\r      
      <dow:verification>\r         
         <dow:hash type="MD5">e32ccc74b22e35a4778c46e49c6e3e7e\r</dow:hash>
      </dow:verification>\r
   </dow:product>\r
</dow:DownloadRequest>]]></con:request><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download</con:originalUri><con:assertion type="Schema Compliance" name="Schema Compliance" id="99bb5807-a218-4676-aec5-b9660b032e3d"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer download Id to the next step" id="b0b7eeb9-67db-41c6-9a3a-3d41c7ff4dc9"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>download Id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Download single HTTP Image File (F1)</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier
</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>Check F1 status</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>To Final status</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Download single HTTP Image File (F1)</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>Check final status</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="delay" name="Delay" id="43d7b4ea-3582-4fb6-8984-0ee7c4d38e03"><con:settings/><con:config><delay>2000</delay></con:config></con:testStep><con:testStep type="restrequest" name="Check F1 status" id="1fa1117d-f43d-4c85-8902-1e0770d3c3d5"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="GET - getStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check F1 status" mediaType="application/json" id="15ebc7b2-92b7-4156-9a89-5e6470e5d2cb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download/015d8d3b-e63e-4706-8e25-77dd0e5ed365</con:originalUri><con:assertion type="Schema Compliance" name="Schema Compliance" id="9a64503e-f840-4e80-8670-ef6c955406ad"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="9974aaea-ae66-4005-bd1e-004c49825acd" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="Check if F1 is completed" id="777677ea-cc27-4111-9edd-cfa885c7d5a5"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Condition 1</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns1='http://proba-v-mep.esa.int/schemas/downloader';
//ns1:DownloadStatus/ns1:productStatus/ns1:productProgress/ns1:status != 'COMPLETED'</con:expression><con:targetStep>Delay</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="restrequest" name="Check final status" id="c1d8b2db-0395-4e06-a404-a5eccc567e5c"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="GET - getStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check final status" mediaType="application/json" id="15ebc7b2-92b7-4156-9a89-5e6470e5d2cb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download/015d8d3b-e63e-4706-8e25-77dd0e5ed365</con:originalUri><con:assertion type="Schema Compliance" name="Schema Compliance" id="9a64503e-f840-4e80-8670-ef6c955406ad"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="XPath Match" name="Check name" id="86c45410-b9ac-45a3-b441-ca65613b8032"><con:configuration><path>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
 ./ns:DownloadStatus/ns:name='Download Options Test'</path><content>true</content><allowWildcards>true</allowWildcards><ignoreNamspaceDifferences>true</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Check size" id="86c45410-b9ac-45a3-b441-ca65613b8032"><con:configuration><path>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
number(./ns:DownloadStatus/ns:productStatus/ns:productProgress/ns:downloadedSize)=61119774</path><content>true</content><allowWildcards>true</allowWildcards><ignoreNamspaceDifferences>true</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="9974aaea-ae66-4005-bd1e-004c49825acd" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer F1 location" id="f76ece93-8479-4364-b23c-3e33a5775255"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>File path</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Check F1 status</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadStatus/ns:productStatus/ns:completedDownloadPath</con:sourcePath><con:targetType>Request</con:targetType><con:targetStep>Verify F1 content</con:targetStep><con:targetPath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:GetContentRequest/ns:filePath</con:targetPath><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Verify F1 content" id="9aad5aef-8996-4ad8-848a-dec5703b2259"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/content" methodName="POST - getContent" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Verify F1 content" id="6cb167e9-c908-4cdd-855b-8de22caa9968" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:GetContentRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">
	<dow:filePath>/apps/downloaded-data/download-options/test1.png</dow:filePath>
	<dow:hashValue>e32ccc74b22e35a4778c46e49c6e3e7e</dow:hashValue>	
</dow:GetContentRequest>]]></con:request><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/content</con:originalUri><con:assertion type="Simple Contains" id="508e2e24-80b5-48d4-8246-6e7839fed950" name="Contains"><con:configuration><token>61119774</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Other Operations" searchProperties="true" id="0916d642-724a-4115-87e1-7c7937e2a317"><con:settings/><con:testStep type="restrequest" name="Step 1: Download single HTTP Image File (F1)" id="1b9a5953-1e99-4eaf-a56c-661875c623ec"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download" methodName="POST - postDownload" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 1: Download single HTTP Image File (F1)" mediaType="application/xml" postQueryString="false" id="75ef8fe8-3328-4165-8249-fd88687d77e4"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:DownloadRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">\r
   <dow:name>Download Options Test</dow:name>\r   
   <dow:product>\r
      <dow:URL>${#TestSuite#HTTP_SERVER}/single/test1.png</dow:URL>\r
      <dow:downloadDirectory>download-options</dow:downloadDirectory>\r
      <dow:size>61119774</dow:size>\r      
      <dow:verification>\r         
         <dow:hash type="MD5">e32ccc74b22e35a4778c46e49c6e3e7e\r</dow:hash>
      </dow:verification>\r
   </dow:product>\r
</dow:DownloadRequest>]]></con:request><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download</con:originalUri><con:assertion type="Schema Compliance" name="Schema Compliance" id="99bb5807-a218-4676-aec5-b9660b032e3d"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer download Id to Cancel step" id="5b10717b-2b2b-498c-8a7a-ed46fa472c07"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>download Id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Step 1: Download single HTTP Image File (F1)</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier
</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>Step 2: Cancel F1</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Step 2: Cancel F1" id="576df82a-334b-4b42-b94b-f7aed3e076b3"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="DELETE - deleteDownload" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 2: Cancel F1" id="751bfe8d-ba29-4dee-9647-7d722818711b" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/data/download/05b3ef6b-5a01-467c-bc84-939a0d59b2ac</con:originalUri><con:assertion type="Schema Compliance" id="93c17a63-36cc-4bb2-a510-46cc4500562e" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="XPath Match" id="21250dff-f24d-42a9-a526-85c027c3ca72" name="Verify cancel status"><con:configuration><path>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
./ns:DownloadStatus/ns:productStatus/ns:productProgress/ns:status='CANCELLED'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="2d50e73e-78e6-4abf-b7ed-4c404760bce6" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Step 4: ExpandURL" id="41fbe46b-4c18-4468-96f1-901d4c9f4d1f"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/urllist/expandurl" methodName="POST - postExpandUrl" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 4: ExpandURL" id="61bfbaaf-839a-4a7a-aa7f-9c83e4d4ab2c" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request>&lt;dow:ExpandURLRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">\r
   &lt;dow:url>${#TestSuite#FTP_SERVER}/multiple&lt;/dow:url>\r
&lt;/dow:ExpandURLRequest></con:request><con:originalUri>http://pvmep-dm.spacebel.be/downloader/webapi/urllist/expandurl</con:originalUri><con:assertion type="Schema Compliance" id="ffca8927-ad95-4ad9-a9ec-5229d242c078" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="XPath Match" id="79b49ae3-74a1-415c-99d9-9960382b8019" name="Verify expand URLs"><con:configuration><path>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
count(./ns:ExpandURLResponse/ns:url)=4</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Step 5: Get FTP server configuration" id="7e5c231a-538c-4c3f-bce7-ee09fccd9f7c"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/configuration" methodName="POST - postGetConfiguration" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 5: Get FTP server configuration" mediaType="application/xml" postQueryString="false" id="78a87c10-0297-4cf0-964b-446dbf6725dd"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<GetConfigurationRequest xmlns="http://proba-v-mep.esa.int/schemas/downloader">
	<servers>
		<protocol>FTP</protocol>
	</servers>
</GetConfigurationRequest>]]></con:request><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/configuration</con:originalUri><con:assertion type="Schema Compliance" name="Schema Compliance" id="2660ab75-4c8a-4a84-9312-108081ba3ea2"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="224c1f92-4fdc-4753-ba8f-cbbe02c58426"><con:configuration><path>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';

(count(./ns:GetConfigurationResponse/ns:servers/ns:server)=4) and (./ns:GetConfigurationResponse/ns:servers/ns:server[ns:name='ftp://cvbftp.vgt.vito.be']/ns:user='cvb_usr')</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Step 5: Get HTTP server configuration" id="4f991a39-2865-4c7b-875e-f614ffbae918"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/configuration" methodName="POST - postGetConfiguration" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 5: Get HTTP server configuration" mediaType="application/xml" postQueryString="false" id="faf94c9e-544c-4ef5-a714-76ba100d23ec"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<GetConfigurationRequest xmlns="http://proba-v-mep.esa.int/schemas/downloader">
	<servers>
		<protocol>HTTP</protocol>
	</servers>
</GetConfigurationRequest>]]></con:request><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/configuration</con:originalUri><con:assertion type="Schema Compliance" name="Schema Compliance" id="60086191-f301-484b-82db-46e9fcd28a74"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="da816ba7-768f-41aa-8576-1753d0194ec6"><con:configuration><path>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';

(count(./ns:GetConfigurationResponse/ns:servers/ns:server)=4) and (./ns:GetConfigurationResponse/ns:servers/ns:server[ns:name='scihub.copernicus.eu']/ns:user='pvmep')</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Exception" searchProperties="true" id="a272bc3e-37d9-479e-a49a-7f9b0107af18"><con:settings/><con:testStep type="restrequest" name="Step 1: Download with a wrong HTTP URL" id="f0a5fc13-beb0-415c-a324-753d0a0c9fc6"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download" methodName="POST - postDownload" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 1: Download with a wrong HTTP URL" mediaType="application/xml" postQueryString="false" id="75ef8fe8-3328-4165-8249-fd88687d77e4"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:DownloadRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">\r
   <dow:name>Download with a wrong HTTP URL</dow:name>\r   
   <dow:product>\r
      <dow:URL>http://no_where</dow:URL>\r
      <dow:downloadDirectory>download-excpetion</dow:downloadDirectory>\r      
   </dow:product>\r
</dow:DownloadRequest>]]></con:request><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download</con:originalUri><con:assertion type="Schema Compliance" name="Schema Compliance" id="99bb5807-a218-4676-aec5-b9660b032e3d"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="HTTP: Transfer download Id" id="2a182168-b537-4075-9ba2-7234f555cb30"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>download Id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Step 1: Download with a wrong HTTP URL</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier
</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>HTTP: Check status</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>To final status</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Step 1: Download with a wrong HTTP URL</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>HTTP: Check final status</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="delay" name="HTTP: Wait" id="aeab419e-d1f8-407c-ba5e-1694cc97ed04"><con:settings/><con:config><delay>2000</delay></con:config></con:testStep><con:testStep type="restrequest" name="HTTP: Check status" id="85d94282-dbdf-4bb3-95e6-991755ac460e"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="GET - getStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="HTTP: Check status" mediaType="application/json" id="15ebc7b2-92b7-4156-9a89-5e6470e5d2cb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download/015d8d3b-e63e-4706-8e25-77dd0e5ed365</con:originalUri><con:assertion type="Schema Compliance" name="Schema Compliance" id="9a64503e-f840-4e80-8670-ef6c955406ad"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="2d96967e-d39c-4b9c-a05f-2d08e30e5cc0" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="HTTP: Check to loop" id="5297c477-cd91-45f9-92ed-dc86e8823a2c"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Condition 1</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns1='http://proba-v-mep.esa.int/schemas/downloader';
//ns1:DownloadStatus/ns1:productStatus/ns1:productProgress/ns1:status != 'IN_ERROR'</con:expression><con:targetStep>HTTP: Wait</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="restrequest" name="HTTP: Check final status" id="570a348e-cce9-421b-b778-eed612385bc4"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="GET - getStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="HTTP: Check final status" mediaType="application/json" id="15ebc7b2-92b7-4156-9a89-5e6470e5d2cb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download/015d8d3b-e63e-4706-8e25-77dd0e5ed365</con:originalUri><con:assertion type="Schema Compliance" name="Schema Compliance" id="9a64503e-f840-4e80-8670-ef6c955406ad"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="XPath Match" id="6c4bc2af-d24d-46bb-90cd-19a77e6a06ab" name="XPath Match"><con:configuration><path>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
./ns:DownloadStatus/ns:productStatus/ns:productProgress/ns:status='IN_ERROR'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="2d96967e-d39c-4b9c-a05f-2d08e30e5cc0" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Step 2: Download with a wrong FTP URL" id="79d185bd-6b4f-4dbc-aa9b-13fe214ae6e4"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download" methodName="POST - postDownload" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 2: Download with a wrong FTP URL" mediaType="application/xml" postQueryString="false" id="75ef8fe8-3328-4165-8249-fd88687d77e4"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:DownloadRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">\r
   <dow:name>Download with a wrong FTP URL</dow:name>\r   
   <dow:product>\r
      <dow:URL>ftp://no_where</dow:URL>\r
      <dow:downloadDirectory>download-excpetion</dow:downloadDirectory>\r      
   </dow:product>\r
</dow:DownloadRequest>]]></con:request><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download</con:originalUri><con:assertion type="Schema Compliance" name="Schema Compliance" id="99bb5807-a218-4676-aec5-b9660b032e3d"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="FTP: Transfer download Id" id="0871f299-aa79-4018-85a9-1b13589effce"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>download Id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Step 2: Download with a wrong FTP URL</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier
</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>FTP: Check status</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>To final status</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Step 2: Download with a wrong FTP URL</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>FTP: Check final status</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="delay" name="FTP: Wait" id="c0096f55-9ff8-4319-9af5-3cf96353440d"><con:settings/><con:config><delay>2000</delay></con:config></con:testStep><con:testStep type="restrequest" name="FTP: Check status" id="69ba7ca5-486f-4606-8378-89303514c7c9"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="GET - getStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FTP: Check status" mediaType="application/json" id="15ebc7b2-92b7-4156-9a89-5e6470e5d2cb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download/015d8d3b-e63e-4706-8e25-77dd0e5ed365</con:originalUri><con:assertion type="Schema Compliance" name="Schema Compliance" id="9a64503e-f840-4e80-8670-ef6c955406ad"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="166dd92f-2943-4975-b509-f0c105df4ed3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="goto" name="FTP: Check to loop" id="d5d3f836-2cec-4206-ba7b-7ebbcddf8c3d"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Condition 1</con:name><con:type>XPATH</con:type><con:expression>declare namespace ns1='http://proba-v-mep.esa.int/schemas/downloader';
//ns1:DownloadStatus/ns1:productStatus/ns1:productProgress/ns1:status != 'IN_ERROR'</con:expression><con:targetStep>FTP: Wait</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="restrequest" name="FTP: Check final status" id="b82f7ab2-ca62-4119-a471-01889c7f19d8"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="GET - getStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FTP: Check final status" mediaType="application/json" id="15ebc7b2-92b7-4156-9a89-5e6470e5d2cb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download/015d8d3b-e63e-4706-8e25-77dd0e5ed365</con:originalUri><con:assertion type="Schema Compliance" name="Schema Compliance" id="9a64503e-f840-4e80-8670-ef6c955406ad"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="XPath Match" id="6c4bc2af-d24d-46bb-90cd-19a77e6a06ab" name="XPath Match"><con:configuration><path>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
./ns:DownloadStatus/ns:productStatus/ns:productProgress/ns:status='IN_ERROR'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="166dd92f-2943-4975-b509-f0c105df4ed3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Step 3: Download with a wrong USGS URL" id="6a208ab1-d1d3-4c2b-96d8-cd14f344d4c0"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download" methodName="POST - postDownload" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 3: Download with a wrong USGS URL" mediaType="application/xml" postQueryString="false" id="75ef8fe8-3328-4165-8249-fd88687d77e4"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:DownloadRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">\r
   <dow:name>Download with a wrong USGS URL</dow:name>\r   
   <dow:product>\r
      <dow:URL>http://earthexplorer.usgs.gov/no_where</dow:URL>\r
      <dow:downloadDirectory>download-excpetion</dow:downloadDirectory>\r      
   </dow:product>\r
</dow:DownloadRequest>]]></con:request><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download</con:originalUri><con:assertion type="Schema Compliance" name="Schema Compliance" id="99bb5807-a218-4676-aec5-b9660b032e3d"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="USGS: Transfer download Id" id="eb60f0ae-c96b-4882-8ac4-695ed9dcb6b0"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>download Id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Step 3: Download with a wrong USGS URL</con:sourceStep><con:sourcePath>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
//ns:DownloadResponse/ns:identifier
</con:sourcePath><con:targetType>identifier</con:targetType><con:targetStep>USGS: Check status</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="delay" name="USGS: Wait" id="6b288f1f-8a6b-4731-ad49-114140513cd2"><con:settings/><con:config><delay>3000</delay></con:config></con:testStep><con:testStep type="restrequest" name="USGS: Check status" id="114c65b2-058e-4e4f-8e22-c09906f34df5"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download/{identifier}" methodName="GET - getStatus" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="USGS: Check status" mediaType="application/json" id="15ebc7b2-92b7-4156-9a89-5e6470e5d2cb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request/><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download/015d8d3b-e63e-4706-8e25-77dd0e5ed365</con:originalUri><con:assertion type="XPath Match" id="942e4adc-60e8-4df8-86be-b137b1676e02" name="XPath Match"><con:configuration><path>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
count(./ns:DownloaderException) =1</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="identifier" value="3490631e-facd-4bd7-a3ca-b8b72732a770" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Step 4: Download with a missing URL" id="10cabc03-2d07-4eb9-95fc-39577215dad4"><con:settings/><con:config service="application" resourcePath="/downloader/webapi/data/download" methodName="POST - postDownload" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Step 4: Download with a missing URL" mediaType="application/xml" postQueryString="false" id="75ef8fe8-3328-4165-8249-fd88687d77e4"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://pvmep-dm.spacebel.be:8080</con:endpoint><con:request><![CDATA[<dow:DownloadRequest xmlns:dow="http://proba-v-mep.esa.int/schemas/downloader">\r
   <dow:name>Download with a missing URL</dow:name>\r   
   <dow:product>\r      
      <dow:downloadDirectory>download-excpetion</dow:downloadDirectory>\r      
   </dow:product>\r
</dow:DownloadRequest>]]></con:request><con:originalUri>http://h-edc-dev.spb.spacebel.be/downloader/webapi/data/download</con:originalUri><con:assertion type="XPath Match" id="7a0627ba-d9f5-4957-a9c2-27bb60fd4e8b" name="XPath Match"><con:configuration><path>declare namespace ns='http://proba-v-mep.esa.int/schemas/downloader';
./ns:DownloaderException/ns:message='URL of product to download request should be provided.'</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties><con:property><con:name>FTP_SERVER</con:name><con:value>ftp://ftp.spacebel.be/proba-V-MEP-data</con:value></con:property><con:property><con:name>HTTP_SERVER</con:name><con:value>http://pvmep-tc.spb.spacebel.be:8080/data</con:value></con:property><con:property><con:name>DOWNLOAD_DIR</con:name><con:value>/apps/downloaded-data</con:value></con:property><con:property><con:name>HTTPS_SERVER</con:name><con:value>https://pvmep-tc.spb.spacebel.be/data</con:value></con:property></con:properties></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>